
include ../mixins
block CONTENT
    :go:func
        Storelocationindex(c ViewContainer)
    #accordion
        #list-collapse.collapse.show(data-parent='#accordion')
            header.row
                .col-sm-12
                    table#StoreLocation_table(data-toggle='table', 
                                data-striped='true', 
                                data-search='true', 
                                data-side-pagination='server', 
                                data-page-list="[10, 20, 50, 100]",
                                data-pagination='true', 
                                data-ajax='StoreLocation_getTableData', 
                                data-query-params='StoreLocation_dataQueryParams', 
                                data-sort-name='store_location_full_path')
                        thead
                            tr
                                //th(data-field='store_location_id' data-sortable='true' data-formatter='store_location_idFormatter') ID
                                th(data-field='store_location_full_path' data-sortable='true')
                                    = T("store_location_name_table_header", 1)
                                th(data-field='entity.entity_name' data-sortable='true')
                                    = T("store_location_entity_table_header", 1)
                                th(data-field='store_location_color' data-sortable='false' data-formatter='StoreLocation_colorFormatter')
                                    = T("store_location_color_table_header", 1)
                                th(data-field='store_location_can_store' data-sortable='false' data-formatter='StoreLocation_canStoreFormatter')
                                    = T("store_location_can_store_table_header", 1)
                                th(data-field='store_location' data-sortable='true' data-formatter='StoreLocation_storeLocationFormatter')
                                    = T("store_location_parent_table_header", 1)
                                th.th-store_location-operate(data-field='operate' data-formatter='StoreLocation_operateFormatter' data-events='operateEvents')

        #edit-collapse.collapse(data-parent='#accordion')

            +titleicon(iconitem="docker" label="store_location_update_title")

            .card.mx-auto.w-50
                .card-body
                    form#store_location
                        input#index(type='hidden', name='index', value='')
                        input#store_location_id(type='hidden', name='store_location_id', value='')

                        .form-group.row
                            .form-group.col-sm-12
                                +inputtext(name="store_location_name", label="store_location_name_title")
                        .form-group.row
                            .form-group.col-sm-12
                                +inputselect(name="entity", label="store_location_entity_title")
                        .form-group.row
                            .form-group.col-sm-12
                                +inputselect(name="store_location", label="store_location_parent_title")
                        .form-group.row
                            .form-group.col-sm-12
                                +checkbox(name="store_location_can_store", label="store_location_can_store_title")
                        .form-group.row
                            .form-group.col-sm-12
                                +inputtext(name="store_location_color", label="store_location_color_title")
                            
                    button#save.btn.btn-primary.float-right(type='button', onclick='StoreLocation_saveStoreLocation()')
                        span.mdi.mdi-content-save.mdi-24px.iconlabel
                            = T("save", 1)
                    button.btn.btn-secondary.float-left(type='button', onclick='Utils_closeEdit();')
                        span.mdi.mdi-close-box.mdi-24px.iconlabel
                            = T("close", 1)
                    
block CONTENTJS
    script.
        window.operateEvents = {
            "click .delete": function (e, value, row, index) {
                StoreLocation_operateEventsDelete(e, value, row, index)
            },
            "click .edit": function (e, value, row, index) {
                StoreLocation_operateEventsEdit(e, value, row, index)
            }
        }
